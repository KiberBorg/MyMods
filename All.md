README.md
# Vast Horizons (Безкраї Горизонти)

## Опис Проєкту
Vast Horizons - це програмно-апаратна покрокова космічна стратегія, що розробляється як хобі-проєкт. Метою є створення максимально гнучкої та відкритої ігрової системи без жорстких "коридорних" обмежень, з акцентом на стратегічне управління та глибокі ігрові механіки.

Гра реалізується за допомогою кількох мікроконтролерів (Arduino або подібних MCU/PLD), кожен з яких відповідає за певну частину ігрової логіки (наприклад, управління флотами, виробництво, бої). Інтерфейс гри є текстовим, таблично подібним, без початкової графіки.

## Архітектура
Проєкт базується на розподіленій архітектурі, де різні функціональні блоки гри виконуються на окремих апаратних модулях (MCU/PLD), які взаємодіють між собою за допомогою визначених протоколів (I2C, SPI, UART).

## Структура Проєкту
* `01_Docs/`: Вся проектна документація (дизайн гри, апаратний дизайн, правила).
* `02_Design/`: Візуалізація логіки, структури даних та протоколів зв'язку.
* `03_Hardware_Code/`: Програмний код для кожного мікроконтролера та PLD.
* `04_Hardware_Schematics/`: Електричні схеми та матеріали.
* `05_Tools/`: Допоміжні скрипти та утиліти.
* `06_Saves/`: Збережені ігрові стани.

## Як запустити (Заплановано)
1.  Зібрати апаратну частину згідно зі схемами в `04_Hardware_Schematics/`.
2.  Завантажити відповідний код з `03_Hardware_Code/` на кожен MCU/PLD.
3.  Запустити основний керуючий MCU (наприклад, `MCU_UI_Controller` або `MCU_Galaxy_Manager`).
4.  Взаємодіяти з грою через текстовий термінал, підключений до `MCU_UI_Controller`.

## Контакти
[Ваш_Нікнейм_або_Ім'я]

01_Docs/Project_Overview.md
# Огляд Проєкту "Vast Horizons"

## 1. Загальна Концепція
"Vast Horizons" — це апаратна покрокова космічна 4X-стратегія (eXplore, eXpand, eXploit, eXterminate), розроблена на базі кількох мікроконтролерів (MCU), що взаємодіють між собою. Основна ідея полягає в перенесенні класичної стратегічної гри з комп'ютерного екрану на фізичний пристрій з мінімалістичним текстовим інтерфейсом. Гравці управлятимуть космічною імперією, досліджуючи галактику, колонізуючи планети, розвиваючи технології, видобуваючи ресурси та вступаючи у конфлікти з іншими фракціями.

## 2. Основні Механіки
* **Дослідження:** Процедурно генерована галактика з унікальними зоряними системами, планетами, астероїдами та аномаліями. Розвідницькі флоти.
* **Експансія:** Колонізація придатних для життя планет та астероїдів, будівництво космічних станцій для розширення впливу та видобутку ресурсів.
* **Видобуток та Управління Ресурсами:** Видобуток різноманітних ресурсів (мінерали, гази, енергія) з планет та астероїдів. Управління виробництвом та споживанням.
* **Будівництво:** Створення та модернізація будівель (модулів) на планетах, станціях та кораблях для виробництва, досліджень, оборони тощо.
* **Управління Флотами:** Проєктування та будівництво космічних кораблів, формування флотів та їхнє переміщення між зоряними системами.
* **Бойові Дії:** Покрокові тактичні бої між флотами та планетарними/станційними оборонами.
* **Дослідження Технологій:** Розблокування нових модулів, компонентів, кораблів та покращень через дерево технологій. Можливість "ризикованих" досліджень з непередбачуваними результатами.
* **Торгівля:** Створення торгових маршрутів для перевезення ресурсів, вплив на ринкові ціни.
* **Дипломатія:** Взаємодія з іншими ігровими расами (ШІ).

## 3. Апаратна Архітектура
Проєкт базується на модульному підході з використанням кількох мікроконтролерів (MCU), кожен з яких відповідає за певну частину ігрової логіки. Взаємодія між MCU здійснюється переважно через інтерфейс I2C.

### Основні MCU та їх функції:
* **MCU_UI_Controller:** Обробка вводу/виводу гравця (дисплей, кнопки, джойстик). Передача команд до інших MCU та відображення інформації.
* **MCU_Galaxy_Manager:** Головний "мозок" гри. Управління станом галактики, зоряних систем, планет, ШІ-фракцій, а також координація між іншими MCU.
* **MCU_Fleet_Commander:** Керування всіма космічними флотами та окремими кораблями (рух, формування, дислокація).
* **MCU_Production_Core:** Обробка всіх виробничих черг, видобутку ресурсів та споживання.
* **MCU_Combat_Engine:** Симуляція бойових дій між флотами та стаціонарними об'єктами.
* **MCU_Research_Lab:** Керування деревом технологій, прогресом досліджень та їхніми ефектами.
* **MCU_Trade_Nexus:** Управління торговими маршрутами та економічними аспектами.
* **MCU_SaveLoad_Manager:** Відповідає за збереження та завантаження ігрового стану на енергонезалежний носій (наприклад, SD-карта).

## 4. Інтерфейс Користувача
* Інтерфейс буде мінімалістичним та текстовим, орієнтованим на відображення ключової інформації за допомогою монохромного LCD-дисплея та вводу команд через фізичні кнопки або джойстик. Мета — створити відчуття "класичного" комп'ютера з космічної станції або терміналу.
* Вся взаємодія з гравцем відбувається через текстові команди та виведення інформації на серійний монітор або зовнішній консольний дисплей. Це дозволяє зосередитися на ігрових механіках, мінімізуючи вимоги до графіки.

## 5. Технології
* **Мікроконтролери:** Arduino-сумісні плати (наприклад, ESP32, STM32, або кілька ATmega328/2560)
* **Зв'язок:** I2C (для між-MCU комунікації), UART/Serial (для PC-відладки та можливого розширеного UI)
* **Пам'ять:** SRAM/EEPROM для поточного стану, SD-карта для збережень.
* **Мови програмування:** C/C++ для MCU, Python для ПК-інструментів (симуляція, моніторинг).
* **Документація та Дизайн:** Markdown, PlantUML, Draw.io.
* **Контроль версій:** Git.

## 6. Цілі Проєкту
* Створити повноцінну, грабельну космічну стратегію на апаратній платформі.
* Відпрацювати принципи модульної архітектури та між-MCU комунікації.
* Поглибити знання у вбудованих системах та гейм-дизайні.
* Створити розширювану та документовану кодову базу.

01_Docs/GDD/00_Overview.md
# 00. Огляд Проєкту "Vast Horizons"

## 1. Загальна Концепція
Vast Horizons — це покрокова стратегія про космічні дослідження, колонізацію та конфлікти, орієнтована на глибокі механіки та стратегічний вибір. Гравці керують власною космічною імперією, досліджуючи процедурно згенеровану галактику, розробляючи технології, будуючи флоти та станції, а також взаємодіючи з іншими расами.

## 2. Ключові Особливості
* **Процедурна Генерація Галактики:** Кожна гра унікальна завдяки динамічній генерації систем, планет та ресурсів.
* **Модульний Дизайн Об'єктів:** Кораблі, станції та навіть планети будуються та модернізуються за допомогою модулів та компонентів, що дозволяє гравцю гнучко адаптуватися до стратегічних потреб.
* **Ризиковані Дослідження:** Технологічний прогрес може мати непередбачувані, потенційно катастрофічні наслідки, додаючи елемент ризику та нелінійного розвитку.
* **Розподілена Апаратна Архітектура:** Ігрова логіка розподілена між кількома мікроконтролерами, що дозволяє паралельну обробку та масштабування.
* **Текстовий Інтерфейс:** Фокус на чіткому представленні даних та командної взаємодії, без візуальних відволікань.

## 3. Мета Проєкту (для розробника)
* Вивчення архітектури розподілених систем на мікроконтролерах.
* Експерименти з ігровими механіками, що пропонують високий ступінь свободи гравця.
* Створення повноцінної, але простої в управлінні, стратегічної гри з нуля.
* Отримання задоволення від процесу розробки та реалізації складних ідей.

## 4. Геймплейний Цикл (Високорівневий)
1.  **Початок Ходу:** Симуляція подій (приріст населення, виробництво, споживання ресурсів, переміщення об'єктів).
2.  **Фаза Гравця:** Гравець віддає команди (будівництво, дослідження, рух флотів, дипломатія).
3.  **Фаза ШІ:** Штучний інтелект інших фракцій виконує свої дії.
4.  **Обробка Результатів:** Виконання всіх відкладених дій (бої, завершення будівництва).
5.  **Наступний Хід.**

## 5. Технології
* **Апаратна Частина:** Arduino (або сумісні MCU), можливо PLD (FPGA/CPLD).
* **Програмна Частина:** C++ (для Arduino sketches), Python (для допоміжних інструментів).
* **Документація:** Markdown, Draw.io (або сумісні інструменти для діаграм).

Цей документ буде доповнюватися та уточнюватися в міру розвитку проєкту.

01_Docs/GDD/01_Entities.md
# 01. Ігрові Сутності

## 1. Галактика
* **Опис:** Велика сукупність зоряних систем, астероїдних полів та інших космічних об'єктів. Може бути поділена на сектори або регіони.
* **Характеристики:**
    * `size`: Кількість систем у галактиці (наприклад, 100-500).
    * `generation_type`: Процедурна.
    * `total_resources_potential`: Загальний потенціал ресурсів для всієї галактики.
    * `anomalies_present`: Список можливих аномалій (наприклад, чорні діри, туманності, незвідані простори).

## 2. Система
* **Опис:** Область космосу, що містить зірку (або кілька зірок), планети, астероїди, станції та потенційно флоти.
* **Характеристики:**
    * `id`: Унікальний ідентифікатор системи.
    * `name`: Назва системи.
    * `coordinates_galaxy`: Координати системи в галактиці (наприклад, x, y).
    * `type`: Тип системи (наприклад, "ResourceRich", "MilitaryOutpost", "TradeHub", "Unexplored").
    * `objects_list`: Список ID об'єктів у системі (зірки, планети, астероїди, станції).
    * `fleet_limit`: Потенційний ліміт на кількість флотів, які можуть перебувати в системі.

## 3. Зоря (Зірка)
* **Опис:** Центральне небесне тіло системи, що генерує енергію та може надавати певні ресурси.
* **Характеристики:**
    * `id`: Унікальний ідентифікатор зірки.
    * `name`: Назва.
    * `class`: Клас зірки (наприклад, "G-type", "M-type", "Red Giant", "Neutron Star").
    * `energy_output`: Кількість енергії, яку генерує зірка за хід (як ресурс).
    * `resource_output_type`: Тип ресурсів, які можна отримати з зірки (наприклад, "Гелій-3", "Випромінювання").
    * `aggressiveness_level`: Рівень агресивності (для деяких класів зірок, що можуть впливати на сусідні об'єкти або викликати аномалії).

## 4. Планета
* **Опис:** Велике небесне тіло, що обертається навколо зірки. Може бути заселеною, мати родовища, модулі виробництва тощо.
* **Характеристики:**
    * `id`: Унікальний ідентифікатор планети.
    * `name`: Назва.
    * `coordinates_system`: Координати в системі (орбітальний слот).
    * `type`: Тип планети ("Frontier" - Погранична, "Core" - Центральна, "Unexplored" - Недосліджена, "Homeworld" - Материнська, "Restricted" - Закрита).
    * `owner_race_id`: ID раси-власника (якщо заселена).
    * `population`: Населення (кількість одиниць).
    * `integrity`: Цілісність планети (як загальне "здоров'я").
    * `shields`: Рівень захисних щитів.
    * `attack_power`: Атака (якщо має оборонні споруди).
    * `ore_content`: Список ID родовищ, наявних на планеті.
    * `production_output`: Що і скільки виробляємо (ресурсів, компонентів, модулів).
    * `consumption_needs`: Що і скільки споживаємо (ресурсів для підтримки).
    * **`frame`:**
        * `internal_volume`: Внутрішній об'єм для модулів.
        * `external_area`: Зовнішня площа для будівництва/модулів.
        * `mass`: Маса планети.
    * `modules_list`: Список ID модулів, встановлених на планеті.
    * `deposits_list`: Список ID родовищ на планеті.

## 5. Супутник Планети
* **Опис:** Небесне тіло, що обертається навколо планети. Може бути природним або штучним (якщо це станція). За функціоналом подібний до планети, але менший за розміром.
* **Характеристики:** (Аналогічні Планеті, але з меншими значеннями та прив'язкою до `parent_planet_id`).

## 6. Станція
* **Опис:** Штучна космічна споруда з різною функціональністю.
* **Характеристики:** (Аналогічні Планеті, але зі своїми специфічними типами та обмеженнями).
    * `type`: "Trade", "Military", "Research", "Production", "Residential".

## 7. Космофлот
* **Опис:** Сукупність кораблів, що діють разом.
* **Характеристики:**
    * `id`, `name`, `coordinates` (в системі/галактиці), `owner_race_id`, `ships_list`, `total_combat_power`, `total_cargo_capacity`, `movement_speed`, `specialization`, `independent_trade_development_allowed`.

## 8. Корабель
* **Опис:** Окрема бойова або допоміжна одиниця флоту.
* **Характеристики:**
    * `id`, `name`, `type` ("LIncor", "Frigate", "Transport", "Scout"), `owner_race_id`, `hull_integrity`, `shields`, `attack_power`, `speed`, `cargo_capacity`.
    * **`frame`:** `internal_volume`, `external_area`, `mass`.
    * `components_list`: Список ID компонентів.
    * `modules_list`: Список ID модулів (для великих кораблів).

## 9. Астероїд
* **Опис:** Невелике космічне тіло, що містить ресурси. Може бути перетворений на станцію.
* **Характеристики:**
    * `id`, `name`, `coordinates_system`, `size`, `ore_content_list`, `possible_artifacts` (list of IDs), `population` (якщо колонізований), `production_output` (якщо колонізований).
    * **`frame`:** `internal_volume`, `external_area`, `mass`.
    * `deposits_list`: Список ID родовищ.
    * `modules_list`: Список ID модулів (якщо перетворений).

## 10. Компонент
* **Опис:** Окремий прилад або частина обладнання (двигуни, радари, броня, зброя).
* **Характеристики:**
    * `id`, `name`, `efficiency`, `resource_consumption`, `mass`, `size` (займаний об'єм), `production_cost` (перелік ресурсів).

## 11. Модуль
* **Опис:** Приміщення або відсік з компонентами, що має певну функціональність (переробка руди, склад, ангар, житлові приміщення, ферма, виробництво).
* **Характеристики:**
    * `id`, `name`, `functionality` (опис), `internal_volume`, `external_area`, `mass`, `resource_consumption`, `component_capacity`, `production_cost`.
    * **`origin_type`:** "Fabricated" (виготовлений на фабриці) або "Assembly" (збирається на верфі).

## 12. Родовище
* **Опис:** Скупчення цінних ресурсів.
* **Характеристики:**
    * `id`, `type` (залізо, мідь, мінерали), `volume` (загальний об'єм), `concentration` (відсоток корисної речовини).
    * `contains_multiple_ores`: Булеве значення.

## 13. Ресурси
* **Опис:** Різноманітні матеріали, необхідні для будівництва, виробництва, підтримки життя та досліджень.
* **Характеристики:**
    * `id`, `name`, `type` (мінерали, метали, гази, органічні сполуки, енергія), `usage_description`, `rarity`.

## 14. Технології
* **Опис:** Напрямки досліджень, що відкривають нові можливості.
* **Характеристики:**
    * `id`, `name`, `type` (військові, цивільні, ресурсні, екологічні), `research_requirements` (ресурси, модулі).
    * `effect_description`: Що дає після вивчення.
    * **`risky_research_flag`:** Булеве значення.
    * `risky_outcomes_list`: Список можливих позитивних/негативних результатів (пошкодження, знищення, аномалії, нові раси).

## 15. Раси/Фракції
* **Опис:** Окремі ігрові сторони.
* **Характеристики:**
    * `id`, `name`, `unique_starting_characteristics`, `unique_tech_modules_components_ids`.
    * `diplomatic_relations`: Список ID інших рас та їхніх поточних відносин.

01_Docs/Rules/Turn_Processing.md
# 01. Обробка Ігрового Ходу (Turn Processing)

## 1. Вступ
Ігровий процес у "Vast Horizons" відбувається покроково, де кожен "хід" представляє собою певний проміжок часу (наприклад, 1 рік або 1 місяць ігрового часу). Обробка ходу включає в себе послідовність етапів, що симулюють розвиток галактики, дії ШІ та взаємодію з гравцем.

Цей документ описує загальний потік обробки ходу, детально розглядаючи, які підсистеми (MCU) задіяні на кожному етапі.

## 2. Основні Етапи Ігрового Ходу

### 2.1. Фаза Ініціалізації Ходу
Цей етап виконується на початку кожного нового ходу і відповідає за оновлення базових ігрових показників та виконання відкладених процесів.

* **Відповідальний MCU:** `MCU_Galaxy_Manager` (GM) як центральний координатор.

1.  **Початок Ходу:**
    * `GM` ініціює новий ігровий хід.
    * Збільшується лічильник ходів.

2.  **Обробка Виробництва:**
    * `GM` надсилає запит до `MCU_Production_Core` (PC).
    * `PC` виконує:
        * Списання ресурсів, необхідних для підтримки (населення, модулі, кораблі).
        * Прогрес виробничих черг на всіх планетах та станціях.
        * Завершення будівництва, якщо час виробництва вичерпано.
        * Додавання вироблених ресурсів/компонентів/модулів на відповідні склади.
        * Обробка черг модернізації/ремонту.
    * `PC` повертає `GM` результати (список виробленого, спожитого, зміни в статусах об'єктів).

3.  **Обробка Досліджень:**
    * `GM` надсилає запит до `MCU_Research_Lab` (RL).
    * `RL` виконує:
        * Генерація Очок Дослідження (ОД) від усіх дослідницьких модулів/об'єктів.
        * Прогрес вивчення поточної технології.
        * Перевірка умови завершення технології.
        * Якщо технологія завершена, застосування її ефектів (бонуси, розблокування нових об'єктів/модулів).
        * Обробка *ризикованих досліджень*: перевірка шансів, визначення результатів (успіх, невдача, катастрофа, несподівані відкриття/події), застосування їхніх ефектів.
    * `RL` повертає `GM` оновлений статус досліджень та інформацію про будь-які події.

4.  **Оновлення Позицій Флотів:**
    * `GM` надсилає запит до `MCU_Fleet_Commander` (FC).
    * `FC` розраховує переміщення всіх флотів (гравця та ШІ) на основі їхньої швидкості та заданих маршрутів.
    * `FC` оновлює координати флотів та перевіряє їхнє прибуття до місця призначення.
    * `FC` повертає `GM` оновлені позиції флотів.

5.  **Оновлення Торгових Маршрутів:**
    * `GM` надсилає запит до `MCU_Trade_Nexus` (TN).
    * `TN` виконує:
        * Переміщення ресурсів за активними торговими маршрутами.
        * Зміну цін на ринках залежно від попиту/пропозиції (базова симуляція).
        * Обробка подій на торгових маршрутах (піратські напади, поломки).
    * `TN` повертає `GM` результати торгових операцій.

6.  **Оновлення Глобальних Даних:**
    * `GM` інтегрує всі отримані оновлення від `PC`, `RL`, `FC`, `TN` та оновлює загальний стан гри, що зберігається на `S_GLOBAL` (Global Game State Storage).

### 2.2. Фаза Подій та ШІ
На цьому етапі відбувається симуляція динамічних подій у галактиці та дії фракцій, керованих штучним інтелектом.

* **Відповідальний MCU:** Переважно `MCU_Galaxy_Manager` (GM) координує, `MCU_Combat_Engine` (CE) виконує бої.

1.  **Виявлення та Обробка Боїв:**
    * `GM` перевіряє всі системи на наявність конфліктів (флот гравця vs флот/станція ШІ, флот ШІ vs флот/станція ШІ).
    * Якщо конфлікт виявлено, `GM` надсилає відповідні дані (склад флотів, характеристики об'єктів) до `MCU_Combat_Engine` (CE).
    * `CE` виконує покрокову симуляцію бою, розраховуючи пошкодження, втрати та визначаючи переможця.
    * `CE` повертає `GM` детальні результати бою.
    * `GM` оновлює стан об'єктів та флотів відповідно до результатів бою (зміни цілісності, знищення).

2.  **Обробка Випадкових Подій:**
    * `GM` генерує та обробляє різні випадкові події (наприклад, аномалії, природні катастрофи на планетах, повстання, дипломатичні інциденти).
    * Застосовуються відповідні ефекти подій до ігрового світу.

3.  **Дії ШІ Фракцій:**
    * `GM` (або окремий модуль ШІ, якщо буде) віддає команди іншим MCU для симуляції дій ШІ-фракцій:
        * `GM` -> `FC`: Команди на рух та формування флотів ШІ.
        * `GM` -> `PC`: Команди на будівництво та управління виробництвом ШІ-колоній.
        * `GM` -> `RL`: Команди на вибір та прогрес технологій ШІ.
        * `GM` -> `TN`: Команди на управління торговими маршрутами ШІ.
        * `GM` -> `GM`: Обробка дипломатичних відносин ШІ з гравцем та іншими фракціями.

### 2.3. Фаза Гравця
Це основний етап, під час якого гравець взаємодіє з грою.

* **Відповідальний MCU:** `MCU_UI_Controller` (UI) для взаємодії, `GM` та інші MCU для виконання команд.

1.  **Повідомлення Гравцю:**
    * `GM` надсилає `UI` сигнал про початок фази гравця та будь-які важливі повідомлення/події з попередніх фаз.
    * `UI` оновлює відображення інтерфейсу, показуючи поточний стан світу та події.

2.  **Очікування Вводу та Обробка Команд:**
    * `UI` очікує введення команд від гравця (через клавіатуру, серійний порт тощо).
    * Коли гравець вводить команду, `UI` інтерпретує її та пересилає до відповідного MCU:
        * `UI` -> `GM`: Команди на рух флоту, зміну відносин, збереження/завантаження.
        * `UI` -> `PC`: Команди на будівництво, модернізацію, управління виробничими чергами.
        * `UI` -> `RL`: Команди на вибір технології для дослідження.
        * `UI` -> `TN`: Команди на створення/модифікацію торгового маршруту.
    * Відповідні MCU виконують команду і повертають `UI` підтвердження або помилку.
    * `UI` може взаємодіяти з `GM` для запиту даних про об'єкти (планети, флоти) для відображення детальної інформації гравцю.

3.  **Завершення Ходу:**
    * Коли гравець вважає, що його дії виконані, він віддає команду "Завершити Хід".
    * `UI` надсилає цю команду `GM`.

### 2.4. Фаза Завершення Ходу
Короткий етап, що завершує поточний ігровий цикл.

* **Відповідальний MCU:** `MCU_Galaxy_Manager` (GM) та `MCU_SaveLoad_Manager` (SL).

1.  **Збереження Гри (Автозбереження):**
    * `GM` надсилає команду `MCU_SaveLoad_Manager` (SL) для збереження поточного стану гри в енергонезалежну пам'ять (SD-карта, EEPROM).

2.  **Підготовка до Наступного Ходу:**
    * `GM` виконує будь-які внутрішні очищення або підготовчі дії для наступного ігрового циклу.

Цей детальний опис у поєднанні з блок-схемою `Game_Loop_Master.drawio` створює міцну основу для розуміння та реалізації основної логіки вашої гри.

02_Design/Protocol_Specs/MCU_Communication_Overview.md
# Огляд Взаємодії Між MCU

## 1. Вступ
Цей документ описує, як різні мікроконтролери (MCU) в системі "Vast Horizons" будуть обмінюватися даними та командами. Ефективна комунікація є ключовою для розподіленої архітектури гри.

## 2. Загальна Схема Зв'язку
Ми використовуватимемо гібридну систему зв'язку:
* **I2C (Inter-Integrated Circuit):** Для передачі невеликих об'ємів даних між MCU, які потребують прямого зв'язку (наприклад, запит даних, передача команд). Ідеально для шини "Master-Slave".
* **UART (Universal Asynchronous Receiver/Transmitter):** Для зв'язку з комп'ютером (моніторинг, відправка команд) та, можливо, для деяких однонаправлених потоків даних між MCU, якщо потрібна більша швидкість або немає конфлікту адрес.
* **SPI (Serial Peripheral Interface):** Може бути використаний для швидкого обміну даними з периферійними пристроями (наприклад, SD-карта для збережень, або деякі типи дисплеїв).

## 3. Ролі MCU в Комунікації
* **MCU_UI_Controller (UI):** **Master** для отримання команд від гравця (UART/клавіатура), **Slave** для запитів даних від інших MCU через I2C для відображення. Також може бути **Master** для деяких периферійних пристроїв (дисплей).
* **MCU_Galaxy_Manager (GM):** **Master** для розсилки даних про генерацію, **Slave** для запитів від інших MCU про стан систем/планет.
* **MCU_Fleet_Commander (FC):** **Slave** для отримання команд руху/бою, **Master** для відправки оновлень про стан флотів.
* **MCU_Production_Core (PC):** **Slave** для отримання команд будівництва, **Master** для відправки оновлень про виробництво та споживання ресурсів.
* **MCU_Combat_Engine (CE):** **Slave** для отримання вхідних бойових даних, **Master** для відправки результатів бою.
* **MCU_Research_Lab (RL):** **Slave** для отримання команд дослідження, **Master** для відправки статусів дослідження та подій ризикованих досліджень.
* **MCU_Trade_Nexus (TN):** **Slave** для отримання торгових команд, **Master** для оновлень ринку та торгових подій.
* **MCU_SaveLoad_Manager (SL):** **Master** для запису/читання з пам'яті (SD/EEPROM), **Slave** для отримання команд збереження/завантаження.

## 4. Загальні Принципи Комунікації
* **Запит-Відповідь (Request-Response):** Більшість комунікації буде відбуватися за цією моделлю. MCU-Master надсилає запит, MCU-Slave відповідає.
* **ID Об'єктів:** Всі об'єкти (планети, кораблі, модулі) будуть мати унікальні `uint16_t` ID, які будуть використовуватися в комунікації для посилання на конкретні сутності.
* **Пакетна Структура:** Дані передаватимуться в невеликих, фіксованих або змінних пакетах.
* **Обробка Помилок:** Буде передбачена базова обробка помилок (наприклад, перевірка контрольної суми, таймаути).

## 5. Приклади Взаємодії (I2C)

### 5.1. Запит статусу Планети
* **Ініціатор:** `MCU_UI_Controller` (Master)
* **Ціль:** `MCU_Galaxy_Manager` (Slave)
* **Команда:** `REQUEST_PLANET_STATUS` (ID команди) + `planet_id` (ID планети)
* **Відповідь:** Структура `Planet_Status_t` (містить ім'я, населення, ресурси, цілісність тощо)

### 5.2. Віддача команди на будівництво Модуля
* **Ініціатор:** `MCU_UI_Controller` (Master)
* **Ціль:** `MCU_Production_Core` (Slave)
* **Команда:** `COMMAND_BUILD_MODULE` (ID команди) + `planet_id` (на якій планеті) + `module_id` (що будувати) + `queue_position`
* **Відповідь:** `ACK_SUCCESS` або `NACK_NO_RESOURCES`

### 5.3. Передача результатів Бою
* **Ініціатор:** `MCU_Combat_Engine` (Master)
* **Ціль:** `MCU_Fleet_Commander` (Slave) та `MCU_Galaxy_Manager` (Slave, для оновлення об'єктів)
* **Дані:** `COMBAT_RESULT_DATA` (ID команди) + `fleet1_id`, `fleet2_id`, `outcome` (перемога/поразка), `ship_losses_list`, `object_damage_list`.

## 6. Детальні Специфікації Протоколів
Дивіться в окремих файлах:
* `I2C_Data_Formats.md`
* `SPI_Data_Registers.md`
* `UART_Console_Protocol.md`

